
local GK = workspace:WaitForChild("Goalkeeper")  -- вратарь
local Ball = workspace:WaitForChild("Ball")      -- мяч

local Humanoid = GK:FindFirstChildOfClass("Humanoid")
if not Humanoid then
    Humanoid = Instance.new("Humanoid")
    Humanoid.Parent = GK
end

local REACTION_TIME = 0.1   -- задержка реакции в секундах
local MOVE_SPEED = 0.5      -- скорость движения вратаря
local JUMP_OFFSET = 2       -- насколько выше мяча прыгать
local DETECT_RANGE = 50     -- расстояние, на котором вратарь реагирует на мяч

while true do
    task.wait(REACTION_TIME)
    local direction = Ball.Position - GK.Position
    local distance = direction.Magnitude

    if distance < DETECT_RANGE then
        -- Движение в горизонтальной плоскости
        local moveDir = Vector3.new(direction.X, 0, direction.Z).Unit
        GK.Position = GK.Position + moveDir * MOVE_SPEED

      
        if Ball.Position.Y > GK.Position.Y + JUMP_OFFSET then
            Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end
