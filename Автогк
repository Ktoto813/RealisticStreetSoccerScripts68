-- Auto Goalkeeper RSS (реалистичный)
local GK = workspace:WaitForChild("Goalkeeper")
local Ball = workspace:WaitForChild("Ball")

-- Проверка Humanoid
local Humanoid = GK:FindFirstChildOfClass("Humanoid")
if not Humanoid then
    Humanoid = Instance.new("Humanoid")
    Humanoid.Parent = GK
end

-- Настройки
local REACTION = 0.05        -- скорость реакции
local SPEED = 0.7            -- скорость движения вратаря
local JUMP_OFFSET = 1.5      -- как выше мяча прыгать
local RANGE = 50             -- радиус реакции

-- Основной цикл
while true do
    task.wait(REACTION)
    local dir = Ball.Position - GK.Position
    local horizontalDir = Vector3.new(dir.X, 0, dir.Z)
    local distance = horizontalDir.Magnitude

    if distance < RANGE then
        -- Движение к мячу
        GK.Position = GK.Position + horizontalDir.Unit * SPEED

        -- Прыжок, если мяч выше вратаря
        if Ball.Position.Y > GK.Position.Y + JUMP_OFFSET then
            Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end
